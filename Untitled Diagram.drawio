<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36" version="27.2.0">
  <diagram name="Page-1" id="ZY-bhe3RvY-m6Brak83M">
    <mxGraphModel dx="4869" dy="3967" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ZhbAOFVro4rEekEftU5F-69" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-3" target="ZhbAOFVro4rEekEftU5F-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-90" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-3" target="ZhbAOFVro4rEekEftU5F-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-3" value="Messages will be saved in DBand imit in the global(backend)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-780" y="-640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-22" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-4" target="ZhbAOFVro4rEekEftU5F-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-4" value="User 1 sender" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-620" y="-1020" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-10" value="CONVERSATION" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-80" y="-150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-13" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-11" target="ZhbAOFVro4rEekEftU5F-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-11" value="User 2 recipient" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-370" y="-1020" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-45" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-12" target="ZhbAOFVro4rEekEftU5F-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-58" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-12" target="ZhbAOFVro4rEekEftU5F-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-12" value="Is user2 viewing(active) convo" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-150" y="-880" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-17" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Message emition on view On Client&lt;/h1&gt;&lt;p&gt;&amp;nbsp;this flow will show how we can keep track of the specific message where the recipient of the sender last is viewed or seen&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;the idea is the have a prop in the conversation model the will carry the message Id of the message in which is&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;the last viewed messageof the recipient: &#39;LastMessageOnRead[participant: user1, user2]&#39;, this prop will only be initialized by the recipient client who viewed/viewing the covnersation&lt;/span&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-650" y="-1260" width="450" height="180" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-23" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-21" target="ZhbAOFVro4rEekEftU5F-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-21" value="Send Messages" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-740" y="-810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-96" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-25" target="ZhbAOFVro4rEekEftU5F-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-117" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-25" target="ZhbAOFVro4rEekEftU5F-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-25" value="The last message send by user1 will be initialize on the&amp;nbsp;&lt;span style=&quot;text-align: left;&quot;&gt;LastMessageOnRead for this conversation&lt;/span&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-585" y="-270" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-57" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-33" target="ZhbAOFVro4rEekEftU5F-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-33" value="Global emition to conversation ui(messagebox) for the active room(viewing convo) client" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-520" y="-770" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-41" value="recieved by the participant who is viewing the convo(as active user)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-555" y="-800" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-54" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-44" target="ZhbAOFVro4rEekEftU5F-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-107" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-44" target="ZhbAOFVro4rEekEftU5F-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-44" value="User2 is opening the conversation" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="-710" width="130" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-46" value="Yes" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-180" y="-880" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-47" value="No" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-40" y="-880" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-48" value="No" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-20" y="-690" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-51" value="Yes" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="-690" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-55" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-52" target="ZhbAOFVro4rEekEftU5F-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-52" value="Set the last messages send by user1 as the&amp;nbsp;&lt;span style=&quot;text-align: left;&quot;&gt;LastMessageOnRead&amp;nbsp; in conversation&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="-485" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-85" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-56" target="ZhbAOFVro4rEekEftU5F-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-56" value="both Client(user1/user2) recieves the global emittion" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-500" y="-580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-62" value="Set the last message" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="-295" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-98" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-70" target="ZhbAOFVro4rEekEftU5F-99">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-670" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-100" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-70" target="ZhbAOFVro4rEekEftU5F-101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-370" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-70" value="is sender currUser?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-580" y="-30" width="140" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-89" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-78" target="ZhbAOFVro4rEekEftU5F-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-78" value="set lastMessage&lt;div&gt;in conversation&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-360" y="-200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-92" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-84" target="ZhbAOFVro4rEekEftU5F-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-84" value="Update messagebox on both client(add message)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-500" y="-440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-88" value="since both client recieves this data, we will check who is the message sender of this message" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-775" y="-70" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-93" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.414;entryY=0.024;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-25" target="ZhbAOFVro4rEekEftU5F-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-95" value="this is the flow how we can set the&amp;nbsp;&lt;span style=&quot;text-align: left;&quot;&gt;LastMessageOnRead and&amp;nbsp;&lt;/span&gt;&amp;nbsp;have a read text in the messagebox UI" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-790" y="-120" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-99" value="message(send by user1) will have READ text on the message UI" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-740" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-101" value="DO NOTHING: no Read on message test" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-390" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-105" value="MESSAGEBOX UI UPDATE" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-765" y="-160" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-108" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-106" target="ZhbAOFVro4rEekEftU5F-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-106" value="set latest message on conversation" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-120" y="-465" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-119" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-112">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="500" y="-1270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-112" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;type ...messaageModal {&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;&quot;&gt;LastMessageOnRead:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;ReadByParticipant []&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;// between participant of this convo&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;type ReadByParticipant {&lt;br&gt;userId&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;messageId&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;this is our model schema in conversation to keep track of read messagers .&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;the client will recieve the other pariticipant ID that we will track&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;like this(in backend format data):&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;LastMessageOnRead.map(userId =&amp;gt; userId !== currUserId)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-90" y="-1310" width="470" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-116" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;Update the conversation&lt;/font&gt;&amp;nbsp;&lt;span style=&quot;font-size: 10px; text-align: left;&quot;&gt;LastMessageOnRead where the userId is the particient&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-900" y="-420" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-120" value="Example flow" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="530" y="-1290" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-122" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="590" y="-1250" as="sourcePoint" />
            <mxPoint x="590" y="-1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-125" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-123" target="ZhbAOFVro4rEekEftU5F-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-123" value="LastMessageOnRead" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="-1250" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-127" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-124" target="ZhbAOFVro4rEekEftU5F-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-124" value="participant: user1, user2&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;in client we will asigsn it like this:&amp;nbsp;&lt;/div&gt;&lt;div&gt;user1 =&amp;gt; user2&lt;/div&gt;&lt;div&gt;user2 =&amp;gt; user1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="462.5" y="-1090" width="195" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-126" value="USER1: USER2" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="-990" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-128" value="USER2: USER1" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="-980" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZhbAOFVro4rEekEftU5F-129" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.237;entryY=0.07;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;startSize=8;endSize=8;" edge="1" parent="1" source="ZhbAOFVro4rEekEftU5F-124" target="ZhbAOFVro4rEekEftU5F-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
